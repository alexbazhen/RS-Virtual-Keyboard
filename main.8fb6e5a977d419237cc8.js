(()=>{"use strict";const s=[{codeName:"Backquote",ru:{caseDown:"ё",caseUp:"Ё",caps:"Ё",shiftCaps:"ё"},en:{caseDown:"`",caseUp:"~",caps:"`",shiftCaps:"~"}},{codeName:"Digit1",ru:{caseDown:"1",caseUp:"!",caps:"1",shiftCaps:"!"},en:{caseDown:"1",caseUp:"!",caps:"1",shiftCaps:"!"}},{codeName:"Digit2",ru:{caseDown:"2",caseUp:'"',caps:"2",shiftCaps:'"'},en:{caseDown:"2",caseUp:"@",caps:"2",shiftCaps:"@"}},{codeName:"Digit3",ru:{caseDown:"3",caseUp:"№",caps:"3",shiftCaps:"№"},en:{caseDown:"3",caseUp:"#",caps:"3",shiftCaps:"#"}},{codeName:"Digit4",ru:{caseDown:"4",caseUp:";",caps:"4",shiftCaps:";"},en:{caseDown:"4",caseUp:"$",caps:"4",shiftCaps:"$"}},{codeName:"Digit5",ru:{caseDown:"5",caseUp:"%",caps:"5",shiftCaps:"%"},en:{caseDown:"5",caseUp:"%",caps:"5",shiftCaps:"%"}},{codeName:"Digit6",ru:{caseDown:"6",caseUp:":",caps:"6",shiftCaps:":"},en:{caseDown:"6",caseUp:"^",caps:"6",shiftCaps:"^"}},{codeName:"Digit7",ru:{caseDown:"7",caseUp:"?",caps:"7",shiftCaps:"?"},en:{caseDown:"7",caseUp:"&",caps:"7",shiftCaps:"&"}},{codeName:"Digit8",ru:{caseDown:"8",caseUp:"*",caps:"8",shiftCaps:"*"},en:{caseDown:"8",caseUp:"*",caps:"8",shiftCaps:"*"}},{codeName:"Digit9",ru:{caseDown:"9",caseUp:"(",caps:"9",shiftCaps:"("},en:{caseDown:"9",caseUp:"(",caps:"9",shiftCaps:"("}},{codeName:"Digit0",ru:{caseDown:"0",caseUp:")",caps:"0",shiftCaps:")"},en:{caseDown:"0",caseUp:")",caps:"0",shiftCaps:")"}},{codeName:"Minus",ru:{caseDown:"-",caseUp:"_",caps:"-",shiftCaps:"_"},en:{caseDown:"-",caseUp:"_",caps:"-",shiftCaps:"_"}},{codeName:"Equal",ru:{caseDown:"=",caseUp:"+",caps:"=",shiftCaps:"+"},en:{caseDown:"=",caseUp:"+",caps:"=",shiftCaps:"+"}},{codeName:"Backspace",ru:{caseDown:"Backspace",caseUp:"Backspace",caps:"Backspace",shiftCaps:"Backspace"},en:{caseDown:"Backspace",caseUp:"Backspace",caps:"Backspace",shiftCaps:"Backspace"}},{codeName:"Tab",ru:{caseDown:"Tab",caseUp:"Tab",caps:"Tab",shiftCaps:"Tab"},en:{caseDown:"Tab",caseUp:"Tab",caps:"Tab",shiftCaps:"Tab"}},{codeName:"KeyQ",ru:{caseDown:"й",caseUp:"Й",caps:"Й",shiftCaps:"й"},en:{caseDown:"q",caseUp:"Q",caps:"Q",shiftCaps:"q"}},{codeName:"KeyW",ru:{caseDown:"ц",caseUp:"Ц",caps:"Ц",shiftCaps:"ц"},en:{caseDown:"w",caseUp:"W",caps:"W",shiftCaps:"w"}},{codeName:"KeyE",ru:{caseDown:"у",caseUp:"У",caps:"У",shiftCaps:"у"},en:{caseDown:"e",caseUp:"E",caps:"E",shiftCaps:"e"}},{codeName:"KeyR",ru:{caseDown:"к",caseUp:"К",caps:"К",shiftCaps:"к"},en:{caseDown:"r",caseUp:"R",caps:"R",shiftCaps:"r"}},{codeName:"KeyT",ru:{caseDown:"е",caseUp:"Е",caps:"Е",shiftCaps:"е"},en:{caseDown:"t",caseUp:"T",caps:"T",shiftCaps:"t"}},{codeName:"KeyY",ru:{caseDown:"н",caseUp:"Н",caps:"Н",shiftCaps:"н"},en:{caseDown:"y",caseUp:"Y",caps:"Y",shiftCaps:"y"}},{codeName:"KeyU",ru:{caseDown:"г",caseUp:"Г",caps:"Г",shiftCaps:"г"},en:{caseDown:"u",caseUp:"U",caps:"U",shiftCaps:"u"}},{codeName:"KeyI",ru:{caseDown:"ш",caseUp:"Ш",caps:"Ш",shiftCaps:"ш"},en:{caseDown:"i",caseUp:"I",caps:"I",shiftCaps:"i"}},{codeName:"KeyO",ru:{caseDown:"щ",caseUp:"Щ",caps:"Щ",shiftCaps:"щ"},en:{caseDown:"o",caseUp:"O",caps:"O",shiftCaps:"o"}},{codeName:"KeyP",ru:{caseDown:"з",caseUp:"З",caps:"З",shiftCaps:"з"},en:{caseDown:"p",caseUp:"P",caps:"P",shiftCaps:"p"}},{codeName:"BracketLeft",ru:{caseDown:"х",caseUp:"Х",caps:"Х",shiftCaps:"х"},en:{caseDown:"[",caseUp:"{",caps:"[",shiftCaps:"{"}},{codeName:"BracketRight",ru:{caseDown:"ъ",caseUp:"Ъ",caps:"Ъ",shiftCaps:"ъ"},en:{caseDown:"]",caseUp:"}",caps:"]",shiftCaps:"}"}},{codeName:"Backslash",ru:{caseDown:"\\",caseUp:"/",caps:"\\",shiftCaps:"/"},en:{caseDown:"\\",caseUp:"|",caps:"\\",shiftCaps:"|"}},{codeName:"Delete",ru:{caseDown:"Del",caseUp:"Del",caps:"Del",shiftCaps:"Del"},en:{caseDown:"Del",caseUp:"Del",caps:"Del",shiftCaps:"Del"}},{codeName:"CapsLock",ru:{caseDown:"CapsLock",caseUp:"CapsLock",caps:"CapsLock",shiftCaps:"CapsLock"},en:{caseDown:"CapsLock",caseUp:"CapsLock",caps:"CapsLock",shiftCaps:"CapsLock"}},{codeName:"KeyA",ru:{caseDown:"ф",caseUp:"Ф",caps:"Ф",shiftCaps:"ф"},en:{caseDown:"a",caseUp:"A",caps:"A",shiftCaps:"a"}},{codeName:"KeyS",ru:{caseDown:"ы",caseUp:"Ы",caps:"Ы",shiftCaps:"ы"},en:{caseDown:"s",caseUp:"S",caps:"S",shiftCaps:"s"}},{codeName:"KeyD",ru:{caseDown:"в",caseUp:"В",caps:"В",shiftCaps:"в"},en:{caseDown:"d",caseUp:"D",caps:"D",shiftCaps:"d"}},{codeName:"KeyF",ru:{caseDown:"а",caseUp:"А",caps:"А",shiftCaps:"а"},en:{caseDown:"f",caseUp:"F",caps:"F",shiftCaps:"f"}},{codeName:"KeyG",ru:{caseDown:"п",caseUp:"П",caps:"П",shiftCaps:"п"},en:{caseDown:"g",caseUp:"G",caps:"G",shiftCaps:"g"}},{codeName:"KeyH",ru:{caseDown:"р",caseUp:"Р",caps:"Р",shiftCaps:"р"},en:{caseDown:"h",caseUp:"H",caps:"H",shiftCaps:"h"}},{codeName:"KeyJ",ru:{caseDown:"о",caseUp:"О",caps:"О",shiftCaps:"о"},en:{caseDown:"j",caseUp:"J",caps:"J",shiftCaps:"j"}},{codeName:"KeyK",ru:{caseDown:"л",caseUp:"Л",caps:"Л",shiftCaps:"л"},en:{caseDown:"k",caseUp:"K",caps:"K",shiftCaps:"k"}},{codeName:"KeyL",ru:{caseDown:"д",caseUp:"Д",caps:"Д",shiftCaps:"д"},en:{caseDown:"l",caseUp:"L",caps:"L",shiftCaps:"l"}},{codeName:"Semicolon",ru:{caseDown:"ж",caseUp:"Ж",caps:"Ж",shiftCaps:"ж"},en:{caseDown:";",caseUp:":",caps:";",shiftCaps:":"}},{codeName:"Quote",ru:{caseDown:"э",caseUp:"Э",caps:"Э",shiftCaps:"э"},en:{caseDown:"'",caseUp:'"',caps:"'",shiftCaps:'"'}},{codeName:"Enter",ru:{caseDown:"Enter",caseUp:"Enter",caps:"Enter",shiftCaps:"Enter"},en:{caseDown:"Enter",caseUp:"Enter",caps:"Enter",shiftCaps:"Enter"}},{codeName:"ShiftLeft",ru:{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift"},en:{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift"}},{codeName:"KeyZ",ru:{caseDown:"я",caseUp:"Я",caps:"Я",shiftCaps:"я"},en:{caseDown:"z",caseUp:"Z",caps:"Z",shiftCaps:"z"}},{codeName:"KeyX",ru:{caseDown:"ч",caseUp:"Ч",caps:"Ч",shiftCaps:"ч"},en:{caseDown:"x",caseUp:"X",caps:"X",shiftCaps:"x"}},{codeName:"KeyC",ru:{caseDown:"с",caseUp:"С",caps:"С",shiftCaps:"с"},en:{caseDown:"c",caseUp:"C",caps:"C",shiftCaps:"c"}},{codeName:"KeyV",ru:{caseDown:"м",caseUp:"М",caps:"М",shiftCaps:"м"},en:{caseDown:"v",caseUp:"V",caps:"V",shiftCaps:"v"}},{codeName:"KeyB",ru:{caseDown:"и",caseUp:"И",caps:"И",shiftCaps:"и"},en:{caseDown:"b",caseUp:"B",caps:"B",shiftCaps:"b"}},{codeName:"KeyN",ru:{caseDown:"т",caseUp:"Т",caps:"Т",shiftCaps:"т"},en:{caseDown:"n",caseUp:"N",caps:"N",shiftCaps:"n"}},{codeName:"KeyM",ru:{caseDown:"ь",caseUp:"Ь",caps:"Ь",shiftCaps:"ь"},en:{caseDown:"m",caseUp:"M",caps:"M",shiftCaps:"m"}},{codeName:"Comma",ru:{caseDown:"б",caseUp:"Б",caps:"Б",shiftCaps:"б"},en:{caseDown:",",caseUp:"<",caps:",",shiftCaps:"<"}},{codeName:"Period",ru:{caseDown:"ю",caseUp:"Ю",caps:"Ю",shiftCaps:"ю"},en:{caseDown:".",caseUp:">",caps:".",shiftCaps:">"}},{codeName:"Slash",ru:{caseDown:".",caseUp:",",caps:".",shiftCaps:","},en:{caseDown:"/",caseUp:"?",caps:"/",shiftCaps:"?"}},{codeName:"ArrowUp",ru:{caseDown:"↑",caseUp:"↑",caps:"↑",shiftCaps:"↑"},en:{caseDown:"↑",caseUp:"↑",caps:"↑",shiftCaps:"↑"}},{codeName:"ShiftRight",ru:{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift"},en:{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift"}},{codeName:"ControlLeft",ru:{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl"},en:{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl"}},{codeName:"MetaLeft",ru:{caseDown:"Win",caseUp:"Win",caps:"Win",shiftCaps:"Win"},en:{caseDown:"Win",caseUp:"Win",caps:"Win",shiftCaps:"Win"}},{codeName:"AltLeft",ru:{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt"},en:{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt"}},{codeName:"Space",ru:{caseDown:" ",caseUp:" ",caps:" ",shiftCaps:" "},en:{caseDown:" ",caseUp:" ",caps:" ",shiftCaps:" "}},{codeName:"AltRight",ru:{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt"},en:{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt"}},{codeName:"ArrowLeft",ru:{caseDown:"←",caseUp:"←",caps:"←",shiftCaps:"←"},en:{caseDown:"←",caseUp:"←",caps:"←",shiftCaps:"←"}},{codeName:"ArrowDown",ru:{caseDown:"↓",caseUp:"↓",caps:"↓",shiftCaps:"↓"},en:{caseDown:"↓",caseUp:"↓",caps:"↓",shiftCaps:"↓"}},{codeName:"ArrowRight",ru:{caseDown:"→",caseUp:"→",caps:"→",shiftCaps:"→"},en:{caseDown:"→",caseUp:"→",caps:"→",shiftCaps:"→"}},{codeName:"ControlRight",ru:{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl"},en:{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl"}}];class e{static get(){return null==localStorage.getItem("active-lang")&&this.set("en"),null==localStorage.getItem("active-lang")?"en":localStorage.getItem("active-lang")}static build(s){return this.get()===s?"":"hidden"}static set(s){localStorage.setItem("active-lang",s)}static change(){"en"===localStorage.getItem("active-lang")?(this.set("ru"),document.querySelectorAll("button").forEach((s=>{s.querySelectorAll("span").forEach((e=>{if(!e.classList.contains("hidden")){const a=e.classList.item(0);e.classList.add("hidden"),s.querySelector(".ru").querySelector(`.${a}`).classList.remove("hidden")}}))}))):(this.set("en"),document.querySelectorAll("button").forEach((s=>{s.querySelectorAll("span").forEach((e=>{if(!e.classList.contains("hidden")){const a=e.classList.item(0);e.classList.add("hidden"),s.querySelector(".en").querySelector(`.${a}`).classList.remove("hidden")}}))})))}}class a{static caps(s,e,a){e&&!a?s.forEach((s=>{s.querySelectorAll("span").forEach((s=>{s.classList.contains("hidden")||(s.classList.add("hidden"),s.parentElement.querySelector(".caps").classList.remove("hidden"))}))})):e&&a?s.forEach((s=>{s.querySelectorAll("span").forEach((s=>{s.classList.contains("hidden")||(s.classList.add("hidden"),s.parentElement.querySelector(".shiftCaps").classList.remove("hidden"))}))})):!e&&a?s.forEach((s=>{s.querySelectorAll("span").forEach((s=>{s.classList.contains("hidden")||(s.classList.add("hidden"),s.parentElement.querySelector(".caseUp").classList.remove("hidden"))}))})):s.forEach((s=>{s.querySelectorAll("span").forEach((s=>{s.classList.contains("hidden")||(s.classList.add("hidden"),s.parentElement.querySelector(".caseDown").classList.remove("hidden"))}))}))}static shift(s,e,a){e&&!a?s.forEach((s=>{s.querySelectorAll("span").forEach((s=>{s.classList.contains("hidden")||(s.classList.add("hidden"),s.parentElement.querySelector(".caseUp").classList.remove("hidden"))}))})):e&&a?s.forEach((s=>{s.querySelectorAll("span").forEach((s=>{s.classList.contains("hidden")||(s.classList.add("hidden"),s.parentElement.querySelector(".shiftCaps").classList.remove("hidden"))}))})):!e&&a?s.forEach((s=>{s.querySelectorAll("span").forEach((s=>{s.classList.contains("hidden")||(s.classList.add("hidden"),s.parentElement.querySelector(".caps").classList.remove("hidden"))}))})):s.forEach((s=>{s.querySelectorAll("span").forEach((s=>{s.classList.contains("hidden")||(s.classList.add("hidden"),s.parentElement.querySelector(".caseDown").classList.remove("hidden"))}))}))}}class c{static add(s){const e=document.querySelector("textarea"),a=e.selectionStart;e.setRangeText(s),e.selectionStart=a+s.length,e.selectionEnd=e.selectionStart,e.focus()}static back(){const s=document.querySelector("textarea");let e=s.selectionStart;const a=s.selectionEnd;s.selectionStart===s.selectionEnd&&(e-1<=0?e=0:e-=1),s.setRangeText("",e,a),s.selectionStart=e,s.selectionEnd=s.selectionStart,s.focus()}static delete(){const s=document.querySelector("textarea"),e=s.selectionStart;let a=s.selectionEnd;s.selectionStart===s.selectionEnd&&(a+=1),s.setRangeText("",e,a),s.selectionStart=e,s.selectionEnd=s.selectionStart}static enter(){document.querySelector("textarea").focus()}}let t,n=[],p=!1,o=!1,i=!1,r=!1;function l(){o&&i&&e.change()}function h(s,e){switch(s){case"CapsLock":e||(p?(p=!1,n[29].classList.remove("active")):(p=!0,n[29].classList.add("active")),a.caps(n,p,r));break;case"ShiftLeft":e?(r=!1,a.shift(n,r,p)):(r=!0,a.shift(n,r,p));break;case"ShiftRight":e?(r=!1,a.shift(n,r)):(r=!0,a.shift(n,r));break;case"ControlLeft":e?i=!1:(i=!0,l());break;case"AltLeft":e?o=!1:(o=!0,l())}}function d(s,e){let a,t=!1;switch(s?(t=e.code,n.forEach((s=>{s.classList.contains(e.code)&&s.querySelectorAll("span").forEach((s=>{s.classList.contains("hidden")||(a=s.innerText)}))}))):(t=e.target.classList.item(1),e.target.querySelectorAll("span").forEach((s=>{s.classList.contains("hidden")||(a=s.innerText)}))),t){case"CapsLock":case"ShiftLeft":case"ShiftRight":case"ControlLeft":case"ControlRight":case"AltLeft":case"MetaLeft":case"AltRight":break;case"Backspace":c.back();break;case"Delete":c.delete();break;case"Tab":c.add("   ");break;case"Space":c.add(" ");break;case"Enter":c.add("\n");break;case"ArrowUp":c.add("▲");break;case"ArrowDown":c.add("▼");break;case"ArrowLeft":c.add("◄");break;case"ArrowRight":c.add("►");break;default:c.add(a)}}!function(){if(document.body){const a=document.createElement("div");a.className="wrapper",document.body.append(a);const c=document.createElement("h1");c.innerText="RS School Virtual Keyboard",a.append(c);const p=document.createElement("textarea");p.className="textarea",a.append(p),t=document.createElement("div"),t.className="keyboard",a.append(t);for(let a=0;a<64;a++){const c=document.createElement("button");c.className=`btn ${s[a].codeName}`;const n=document.createElement("p"),p=document.createElement("p");n.className="ru",p.className="en",n.innerHTML=`\n         <span class="caseDown ${e.build("ru")}">${s[a].ru.caseDown}</span>\n         <span class="caseUp hidden">${s[a].ru.caseUp}</span>\n         <span class="caps hidden">${s[a].ru.caps}</span>\n         <span class="shiftCaps hidden">${s[a].ru.shiftCaps}</span>`,p.innerHTML=`\n         <span class="caseDown ${e.build("en")}">${s[a].en.caseDown}</span>\n         <span class="caseUp hidden">${s[a].en.caseUp}</span>\n         <span class="caps hidden">${s[a].en.caps}</span>\n         <span class="shiftCaps hidden">${s[a].en.shiftCaps}</span>`,c.append(n),c.append(p),t.append(c)}n=t.querySelectorAll("button");const o=document.createElement("p");o.innerHTML="Создано в ОС Windows <br>Для переключения языка ввода, используйте комбинацию: левые Alt + Ctrl",a.append(o)}}(),window.addEventListener("keydown",(s=>{s.preventDefault(),n.forEach((e=>{e.classList.contains(s.code)&&(e.classList.add("hover"),h(s.code),d(!0,s))}))})),window.addEventListener("keyup",(s=>{s.preventDefault(),n.forEach((e=>{e.classList.contains(s.code)&&(e.classList.remove("hover"),h(s.code,!0))}))})),t.addEventListener("mousedown",(s=>{s.preventDefault(),s.target.classList.contains("btn")&&(s.target.classList.add("hover"),h(s.target.classList.item(1)),d(!1,s))})),t.addEventListener("mouseup",(s=>{s.preventDefault(),s.target.classList.contains("btn")&&(s.target.classList.remove("hover"),h(s.target.classList.item(1),!0))}))})();